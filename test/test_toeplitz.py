import pytest
from extlib.toeplitz import Toeplitz


toeplitz_testcases = [
    (3, 1, [1, 0, 0], [0, 0, 0], [0]),
    (3, 2, [1, 0, 0], [1, 1, 1, 1], [1, 1]),
    (3, 3, [0, 0, 0], [1, 1, 0, 0, 0], [0, 0, 0]),
    (6, 4, [1, 1, 0, 0, 0, 1], [1, 1, 0, 1, 0, 1, 0, 0, 1], [0, 1, 1, 1]),
    (6, 5,
        [1, 1, 0, 0, 0, 1],
        [0, 0, 1, 1, 1, 1, 0, 1, 0, 1],
        [0, 0, 0, 0, 1]),
    (6, 6,
        [0, 0, 1, 1, 0, 0],
        [0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1],
        [1, 1, 1, 0, 1, 0]),
    (9, 7,
        [1, 1, 1, 1, 1, 1, 0, 1, 1],
        [0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1],
        [0, 0, 0, 0, 1, 1, 1]),
    (9, 8,
        [1, 0, 0, 1, 1, 1, 1, 0, 0],
        [1, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1],
        [1, 1, 1, 1, 1, 0, 1, 0]),
    (9, 9,
        [0, 1, 0, 0, 1, 1, 1, 1, 1],
        [0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1],
        [0, 0, 1, 0, 0, 1, 0, 1, 1])
]



@pytest.mark.parametrize("n,m,x,y,z", toeplitz_testcases)
def test_toeplitz(n, m, x, y, z):
    assert Toeplitz(n, m).extract(x, y) == z
