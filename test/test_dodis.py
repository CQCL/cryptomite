import pytest
from extlib.dodis import Dodis


dodis_testcases = [
    (3, 1, [0, 1, 0], [1, 1, 1], [1]),
    (3, 2, [1, 0, 0], [1, 1, 0], [1, 1]),
    (3, 3, [0, 1, 1], [0, 0, 0], [0, 0, 0]),
    (6, 4, [0, 1, 0, 0, 0, 1], [0, 0, 0, 1, 1, 1], [1, 0, 1, 1]),
    (6, 5, [1, 0, 0, 0, 0, 1], [1, 0, 1, 1, 1, 0], [1, 1, 1, 0, 0]),
    (6, 6, [1, 0, 1, 0, 0, 0], [1, 1, 1, 0, 1, 0], [0, 1, 0, 0, 0, 1]),
    (
        9,
        7,
        [0, 1, 1, 1, 0, 1, 1, 1, 1],
        [1, 1, 1, 0, 1, 1, 0, 0, 1],
        [0, 0, 1, 0, 0, 0, 1],
    ),
    (
        9,
        8,
        [0, 1, 1, 0, 1, 0, 1, 1, 1],
        [0, 1, 1, 0, 1, 0, 0, 1, 0],
        [0, 0, 0, 0, 0, 1, 1, 0],
    ),
    (
        9,
        9,
        [0, 0, 1, 1, 0, 0, 0, 1, 0],
        [1, 1, 1, 0, 1, 1, 1, 1, 0],
        [0, 1, 1, 1, 1, 1, 0, 1, 1],
    ),
]


@pytest.mark.parametrize("n,m,x,y,z", dodis_testcases)
def test_dodis(n, m, x, y, z):
    assert Dodis(n, m).extract(x, y) == z
